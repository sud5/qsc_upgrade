diff a/templates/action_menu.mustache b/templates/action_menu.mustache	(rejected hunks)
@@ -30,26 +30,31 @@
         }
     }
 }}
-<div class="action-menu {{classes}} d-inline"{{#attributes}} {{name}}="{{value}}"{{/attributes}}>
+<div class="{{classes}}"{{#attributes}} {{name}}="{{value}}"{{/attributes}}>
     {{#primary}}
 
-        <div class="{{classes}} d-flex "{{#attributes}} {{name}}="{{value}}"{{/attributes}}>
+        <ul class="{{classes}}"{{#attributes}} {{name}}="{{value}}"{{/attributes}}>
 
-            {{#prioritise}}{{> core/action_menu_trigger }}{{/prioritise}}
+            {{#prioritise}}<li role="presentation">{{> core/action_menu_trigger }}</li>{{/prioritise}}<!--
 
-            {{#items}}
-                <div class="action-menu-item">
-                    {{> core/action_menu_item }}
-                </div>
-            {{/items}}
+            -->{{#items}}<li role="presentation">{{> core/action_menu_item }}</li>{{/items}}<!--
 
-            {{^prioritise}}
-                <div class="action-menu-trigger">
-                    {{> core/action_menu_trigger }}
-                </div>
-            {{/prioritise}}
+            -->{{^prioritise}}<li role="presentation">{{> core/action_menu_trigger }}</li>{{/prioritise}}
 
-        </div>
+        </ul>
 
     {{/primary}}
+
+    {{#secondary}}
+        <ul class="{{classes}}"{{#attributes}} {{name}}="{{value}}"{{/attributes}}>
+            {{#items}}<li role="presentation">{{> core/action_menu_item }}</li>{{/items}}
+        </ul>
+    {{/secondary}}
 </div>
+{{#js}}
+require(['core/yui'], function(Y) {
+    Y.use('moodle-core-actionmenu', function() {
+        M.core.actionmenu.init();
+    });
+});
+{{/js}}
